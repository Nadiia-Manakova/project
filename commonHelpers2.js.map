{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\n\nconst LOCAL_KEY = \"booklist\";\nconst cartList = document.querySelector(\".cart-list\");\nconst emptyCart = document.querySelector(\".empty-cart\");\nconst container = document.querySelector(\"#pagination\");\n\n\nconst options = {\n    totalItems: 500,\n    itemsPerPage: 3,\n    visiblePages: 3,\n    page: 1,\n    centerAlign: false,\n}\n\nlet pagination = new Pagination(container, options);\n\n\nlet data = [];\n\ndocument.addEventListener(\"click\", handlerDeleteCart);\n\n\n    try {\n        data = JSON.parse(localStorage.getItem(LOCAL_KEY));\n        if (!data.length) {\n            emptyCart.style.display = \"block\";\n            //return;\n        }\n        emptyCart.style.display = \"none\";\n        cartList.innerHTML = createCartMurkup(data);\n        if (data.length > itemPerPage) {\n        }\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n\n\n\n\n// ----------------------------------------------------------------------------------------РОЗМІТКА\n\n\n\nfunction createCartMurkup(arr) {\n    return arr.map(({ _id, author, book_image, title, description, buy_links: [{url:amazon}, {url:appleBook}], list_name }) =>\n        ` <li class=\"cart-item\" data-id =\"${_id}\">\n            <img src=\"${book_image}\" alt=\"${title}\" class=\"cart-item-img\">\n            <div class=\"cart-item-content\">\n            <div class=\"cart-content-header\">\n                <h3 class=\"cart-item-title\">${title}</h3>\n                <p class=\"cart-item-category cart-item-label\">${list_name}</p>\n            </div>\n                <p class=\"cart-item-description\">${description}</p>\n                <p class=\"cart-item-author cart-item-label\">${author}</p>\n                <button class=\"cart-item-delete\">\n                <svg class=\"cart-delete-icon\" width=\"24\" height=\"24\">\n                <use href=\"../img/icons-sprite.svg#cart-purple-round\"></use>\n                </svg>\n                </button>\n                <ul class=\"cart-item-links\">\n                <li><a href=\"${amazon}\" class=\"cart-item-link\">amazon</a></li>\n                <li><a href=\"${appleBook}\" class=\"cart-item-link\">apple book</a></li>\n                </ul>\n            </div>\n        </li>`).join(\"\");\n}\n\n\n// ----------------------------------------------------------------------------------------ВИДАЛЕННЯ ЕЛЕМЕНТІВ КОРЗИНИ\n\nfunction handlerDeleteCart(e) {\n    if (!e.target.classList.contains(\"cart-item-delete\")) return;\n   \n    const idOfBook = e.target.closest(\".cart-item\").dataset.id;\n    try {\n        const products = data.filter(({ _id }) => _id !== idOfBook);\n        localStorage.setItem(LOCAL_KEY, JSON.stringify(products));\n        data = JSON.parse(localStorage.getItem(LOCAL_KEY));\n        cartList.innerHTML = createCartMurkup(products);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n    }\n    if (!data.length) {\n    emptyCart.style.display = \"block\";\n}\n}"],"names":["LOCAL_KEY","cartList","emptyCart","container","options","Pagination","data","handlerDeleteCart","createCartMurkup","error","arr","_id","author","book_image","title","description","amazon","appleBook","list_name","idOfBook","products"],"mappings":"wFAGA,MAAMA,EAAY,WACZC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAY,SAAS,cAAc,aAAa,EAGhDC,EAAU,CACZ,WAAY,IACZ,aAAc,EACd,aAAc,EACd,KAAM,EACN,YAAa,EACjB,EAEiB,IAAIC,EAAWF,EAAWC,CAAO,EAGlD,IAAIE,EAAO,CAAA,EAEX,SAAS,iBAAiB,QAASC,CAAiB,EAGhD,GAAI,CACAD,EAAO,KAAK,MAAM,aAAa,QAAQN,CAAS,CAAC,EAC5CM,EAAK,SACNJ,EAAU,MAAM,QAAU,SAG9BA,EAAU,MAAM,QAAU,OAC1BD,EAAS,UAAYO,EAAiBF,CAAI,EACtCA,EAAK,OAAS,WAEvB,OAAQG,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CASH,SAASD,EAAiBE,EAAK,CAC3B,OAAOA,EAAI,IAAI,CAAC,CAAE,IAAAC,EAAK,OAAAC,EAAQ,WAAAC,EAAY,MAAAC,EAAO,YAAAC,EAAa,UAAW,CAAC,CAAC,IAAIC,CAAM,EAAG,CAAC,IAAIC,CAAS,CAAC,EAAG,UAAAC,CAAW,IAClH,oCAAoCP;AAAA,wBACpBE,WAAoBC;AAAA;AAAA;AAAA,8CAGEA;AAAA,gEACkBI;AAAA;AAAA,mDAEbH;AAAA,8DACWH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAO/BI;AAAA,+BACAC;AAAA;AAAA;AAAA,cAGjB,EAAE,KAAK,EAAE,CACvB,CAKA,SAASV,EAAkB,EAAG,CAC1B,GAAI,CAAC,EAAE,OAAO,UAAU,SAAS,kBAAkB,EAAG,OAEtD,MAAMY,EAAW,EAAE,OAAO,QAAQ,YAAY,EAAE,QAAQ,GACxD,GAAI,CACA,MAAMC,EAAWd,EAAK,OAAO,CAAC,CAAE,IAAAK,KAAUA,IAAQQ,CAAQ,EAC1D,aAAa,QAAQnB,EAAW,KAAK,UAAUoB,CAAQ,CAAC,EACxDd,EAAO,KAAK,MAAM,aAAa,QAAQN,CAAS,CAAC,EACjDC,EAAS,UAAYO,EAAiBY,CAAQ,CACnD,OAAQX,EAAP,CACA,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CAC/C,CACIH,EAAK,SACVJ,EAAU,MAAM,QAAU,QAE9B"}