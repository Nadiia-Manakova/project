import{i as D,g as $,o as x,c as C,u as j,s as N,d as _,e as S,f as H,r as B,h as P,j as F,a as k,P as O}from"./vendor-6ba42902.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const G={apiKey:"AIzaSyC8186vhxW_ZDU8EVA4gnzNG0ku3rRXkNY",authDomain:"awesome-project-1330c.firebaseapp.com",projectId:"awesome-project-1330c",storageBucket:"awesome-project-1330c.appspot.com",messagingSenderId:"235904211325",appId:"1:235904211325:web:cd87abc5d9f719d2d41414",measurementId:"G-WDSXDZDNLB",databaseURL:"https://awesome-project-1330c-default-rtdb.europe-west1.firebasedatabase.app"};D(G);const u=$(),r={signUpBox:document.querySelector(".js-sign-up"),signInBox:document.querySelector(".js-sign-in"),signUpForm:document.querySelector(".js-sign-up-form"),signInForm:document.querySelector(".js-sign-in-form"),signUpBtn:document.querySelector(".js-sign-up-link"),signInBtn:document.querySelector(".js-sign-in-link"),exitBtn:document.querySelector(".js-sign-out-btn"),openModalBtn:document.querySelector(".auth-modal-open"),closeModalBtn:document.querySelector(".auth-modal-close"),modal:document.querySelector(".auth-modal-backdrop")};r.signInBtn.addEventListener("click",R);r.signUpBtn.addEventListener("click",z);r.signUpForm.addEventListener("submit",W);r.signInForm.addEventListener("submit",K);r.openModalBtn.addEventListener("click",g);r.closeModalBtn.addEventListener("click",g);r.exitBtn.addEventListener("click",J);function g(){r.modal.classList.toggle("auth-backdrop-hidden")}function R(e){e.preventDefault(),r.signUpBox.classList.add("auth-hidden"),r.signInBox.classList.remove("auth-hidden"),r.signUpBtn.classList.remove("active"),r.signInBtn.classList.add("active")}function z(e){e.preventDefault(),r.signUpBox.classList.remove("auth-hidden"),r.signInBox.classList.add("auth-hidden"),r.signUpBtn.classList.add("active"),r.signInBtn.classList.remove("active")}function W(e){e.preventDefault();const t=new FormData(e.currentTarget),o={};t.forEach((n,s)=>{o[s]=n}),V(o.email,o.password,o.username)}function K(e){e.preventDefault();const t=new FormData(e.currentTarget),o={};t.forEach((n,s)=>{o[s]=n}),Y(o.email,o.password)}x(u,e=>{e?(e.displayName,e.email,e.photoURL,e.uid,console.log("User is signed in, we will show all modules")):console.log("User is signed out, we will hide some modules")});function V(e,t,o){C(u,e,t).then(()=>j(u.currentUser,{displayName:o})).then(()=>{g(),console.log(`Welcome, ${o}!`)}).catch(n=>{const s=n.code,i=n.message;console.log(s,i)})}function Y(e,t){N(u,e,t).then(o=>{const n=o.user;console.log(`Welcome, ${n.displayName}!`),g()}).catch(o=>{const n=o.code,s=o.message;console.log(n,s)})}function J(){_(u).then(()=>{console.log("Sign-out successful.")}).catch(e=>{console.log(`An error happened. ${e}`)})}function E(){const e=u.currentUser;if(e!==null){const t={name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid};return console.log(t),t}else console.log('User is signed out. This function will return "undefined".')}function X(e){if(!e){console.log("No data to write!");return}const t=E();if(!t){console.log("User is not authorized!");return}const o=t.uid,n=S();H(B(n,"users/"+o),{books:e}),console.log("Success!")}function Z(){const e=E();if(!e){console.log("User is not authorized!");return}const t=e.uid,o=B(S());P(F(o,`users/${t}`)).then(n=>{if(n.exists())return console.log(n.val()),n.val();console.log("No data available")}).catch(n=>{console.log(n)})}const Q=document.querySelector(".dbw");Q.addEventListener("click",ee);function ee(){X([{list_name:"Advice How-To and Miscellaneous"},{list_name:"Audio Fiction",books:Array(5)},{list_name:"Audio Nonfiction",books:Array(5)},{list_name:"Business Books",books:Array(5)},{list_name:"Childrens Middle Grade Hardcover",books:Array(5)},{list_name:"Combined Print and E-Book Fiction",books:Array(5)}])}const te=document.querySelector(".dbr");te.addEventListener("click",Z);const a={body:document.querySelector("body"),checkbox:document.querySelector(".header-theme-checkbox"),THEME_KEY:"headerTheme",themeValueLight:"light-theme",themeValueDark:"dark-theme"};function oe(){a.checkbox.checked===!0&&(localStorage.setItem(a.THEME_KEY,a.themeValueDark),a.body.classList.add("dark-theme")),a.checkbox.checked===!1&&(localStorage.getItem(a.THEME_KEY,a.themeValueLight),a.body.classList.remove("dark-theme"))}a.checkbox.addEventListener("click",oe);const I="https://books-backend.p.goit.global/books/";async function se(){const e=`${I}top-books`;return(await k.get(e)).data}const ne="https://books-backend.p.goit.global/books/";async function ke(e){const t=`${ne}category?category=${e}`;return(await k.get(t)).data}async function be(){const e=`${I}category-list`;return await k.get(e)}const ie=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"../img/fund-01.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"../img/fund-02.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"../img/fund-09.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"../img/fund-03.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"../img/fund-07.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"../img/fund-04.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"../img/fund-05.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"../img/fund-08.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"../img/fund-06.png"}],m=document.querySelector(".support-list");function re(e){return e.map(({title:t,url:o,img:n},s)=>`<li class="support-item">
        <span class='support-item-num'>0${s+1}</span>
        <a class="support-link" target='blank' href="${o}">
          <img
            class="support-img"
            src="${n}"
            alt="${t}"
          />
        </a>
      </li>`).join("")}m.innerHTML=re(ie);const d=document.querySelector(".support-slide-btn"),L=document.querySelector(".support-slide-down-btn"),w=document.querySelector(".support-slide-up-btn");d.addEventListener("click",ae);function ae(){d.classList.contains("top")?(d.classList.remove("top"),w.style.display="none",L.style.display="block",ce()):(le(),d.classList.add("top"),L.style.display="none",w.style.display="block")}function ce(){m.scrollTop=0}function le(){m.scrollTop=m.scrollHeight}const f="booklist",U=document.querySelector(".cart-list"),y=document.querySelector(".empty-cart"),ue=document.querySelector("#pagination"),de={totalItems:500,itemsPerPage:3,visiblePages:3,page:1,centerAlign:!1};new O(ue,de);let l=[];document.addEventListener("click",me);try{l=JSON.parse(localStorage.getItem(f)),l.length||(y.style.display="block"),y.style.display="none",U.innerHTML=q(l),l.length>itemPerPage}catch(e){console.error("Get state error: ",e.message)}function q(e){return e.map(({_id:t,author:o,book_image:n,title:s,description:i,buy_links:[{url:c},{url:b}],list_name:p})=>` <li class="cart-item" data-id ="${t}">
            <img src="${n}" alt="${s}" class="cart-item-img">
            <div class="cart-item-content">
            <div class="cart-content-header">
                <h3 class="cart-item-title">${s}</h3>
                <p class="cart-item-category cart-item-label">${p}</p>
            </div>
                <p class="cart-item-description">${i}</p>
                <p class="cart-item-author cart-item-label">${o}</p>
                <button class="cart-item-delete">
                <svg class="cart-delete-icon" width="24" height="24">
                <use href="../img/icons-sprite.svg#cart-purple-round"></use>
                </svg>
                </button>
                <ul class="cart-item-links">
                <li><a href="${c}" class="cart-item-link">amazon</a></li>
                <li><a href="${b}" class="cart-item-link">apple book</a></li>
                </ul>
            </div>
        </li>`).join("")}function me(e){if(!e.target.classList.contains("cart-item-delete"))return;const t=e.target.closest(".cart-item").dataset.id;try{const o=l.filter(({_id:n})=>n!==t);localStorage.setItem(f,JSON.stringify(o)),l=JSON.parse(localStorage.getItem(f)),U.innerHTML=q(o)}catch(o){console.error("Get state error: ",o.message)}l.length||(y.style.display="block")}const A=document.querySelector(".hamburger"),v=document.querySelector(".hamburger-overlay"),ge=document.querySelector("body"),T=document.querySelector(".mob-menu-gallery-list"),h=document.getElementById("scrollTop");A.addEventListener("click",pe);function pe(){A.classList.toggle("close"),v.classList.toggle("active"),ge.classList.add("menu-open"),document.body.classList.toggle("menu-open",v.classList.contains("active"))}se().then(e=>{const n=e.reduce((s,i)=>s.concat(i.books),[]).filter((s,i,c)=>c.findIndex(p=>p.title===s.title)===i).map(s=>`
<li class="mob-menu-gallery-item">
    <img loading="lazy" class="mob-menu-image" src="${s.book_image}" alt="${s.title}" >
</li>`).join("");T.insertAdjacentHTML("afterbegin",n),he()}).catch(e=>{console.log(e)});function M(e,t){e+=.3*t;const o=-1500,n=0;(e<=o||e>=n)&&(t*=-1),T.style.transform=`translateX(${e}px)`,requestAnimationFrame(()=>{M(e,t)})}function he(){M(0,-1)}window.addEventListener("scroll",fe);function fe(){const e=document.documentElement.scrollTop>300;h.classList.toggle("show",e),h.onclick=t=>{t.preventDefault(),document.documentElement.scrollTop=0,h.classList.remove("show")}}export{ke as a,be as b,se as g};
//# sourceMappingURL=burgerMenu-ffddaa96.js.map
