import{r as k,g as v,c as j,d as P,i as O,e as H,s as d,o as _,f as F,u as R,h as W,j as z,k as G,a as p}from"./vendor-23f73890.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const S=document.querySelector(".loader__backdrop");function ke(){S.style.display="block"}function ve(){setTimeout(()=>{S.style.display="none"},300)}const K={apiKey:"AIzaSyC8186vhxW_ZDU8EVA4gnzNG0ku3rRXkNY",authDomain:"awesome-project-1330c.firebaseapp.com",projectId:"awesome-project-1330c",storageBucket:"awesome-project-1330c.appspot.com",messagingSenderId:"235904211325",appId:"1:235904211325:web:cd87abc5d9f719d2d41414",measurementId:"G-WDSXDZDNLB",databaseURL:"https://awesome-project-1330c-default-rtdb.europe-west1.firebasedatabase.app"},w=document.querySelector(".menu-sign-up-btn"),B=document.querySelector(".mob-menu-user"),E=document.querySelector(".mob-menu-user-buttons"),q=document.querySelector(".mob-menu-logout-container"),V=document.querySelector(".mob-menu-user-text"),x=document.querySelector(".header-hidden-auth-list"),U=document.querySelector(".header-logout-block"),I=document.querySelector(".header-login-overlay-block"),Y=document.querySelector(".header-overlay-user-name"),h="booklist";function X(){const e=D();if(!e){console.log("User is not authorized!");return}const o=e.uid,s=k(v());j(P(s,`users/${o}`)).then(n=>{if(n.exists()){const{books:t}=n.val();localStorage.setItem(h,JSON.stringify(t))}else console.log("No data available.");console.log(JSON.parse(localStorage.getItem(h)))}).catch(n=>{console.log(n)})}function Z(e){const{name:o,email:s,photo:n,uid:t}=e;w.classList.add("visually-hidden"),B.classList.remove("visually-hidden"),E.classList.remove("visually-hidden"),q.classList.remove("visually-hidden"),V.textContent=o,x.classList.remove("visually-hidden"),U.classList.add("visually-hidden"),I.classList.remove("visually-hidden"),Y.textContent=o,X()}function J(){w.classList.remove("visually-hidden"),B.classList.add("visually-hidden"),E.classList.add("visually-hidden"),q.classList.add("visually-hidden"),x.classList.add("visually-hidden"),U.classList.remove("visually-hidden"),I.classList.add("visually-hidden")}O(K);const l=H(),i={modal:document.querySelector(".auth-modal-backdrop"),headerLogoutBlock:document.querySelector(".header-logout-block"),openModalBtnMobile:document.querySelector(".menu-sign-up-btn"),closeModalBtn:document.querySelector(".auth-modal-close"),signUpBox:document.querySelector(".js-sign-up"),signInBox:document.querySelector(".js-sign-in"),signUpForm:document.querySelector(".js-sign-up-form"),signInForm:document.querySelector(".js-sign-in-form"),signUpBtn:document.querySelector(".js-sign-up-link"),signInBtn:document.querySelector(".js-sign-in-link"),exitBtn:document.querySelector(".header-overlay-wrap"),exitBtnMobile:document.querySelector(".mob-menu-logout-btn")};i.signInBtn.addEventListener("click",Q);i.signUpBtn.addEventListener("click",ee);i.signUpForm.addEventListener("submit",te);i.signInForm.addEventListener("submit",oe);i.openModalBtnMobile.addEventListener("click",u);i.headerLogoutBlock.addEventListener("click",u);i.closeModalBtn.addEventListener("click",u);i.exitBtn.addEventListener("click",M);i.exitBtnMobile.addEventListener("click",M);function u(){i.modal.classList.toggle("auth-backdrop-hidden")}function Q(e){e.preventDefault(),i.signUpBox.classList.add("auth-hidden"),i.signInBox.classList.remove("auth-hidden"),i.signUpBtn.classList.remove("active"),i.signInBtn.classList.add("active")}function ee(e){e.preventDefault(),i.signUpBox.classList.remove("auth-hidden"),i.signInBox.classList.add("auth-hidden"),i.signUpBtn.classList.add("active"),i.signInBtn.classList.remove("active")}function te(e){e.preventDefault();const o=new FormData(e.currentTarget),s={};o.forEach((t,r)=>{s[r]=t});const n=s.username.trim();if(!n){console.log("Please enter your name!"),d("Please enter your name!",{icon:"warning"});return}ne(s.email,s.password,n)}function oe(e){e.preventDefault();const o=new FormData(e.currentTarget),s={};o.forEach((n,t)=>{s[t]=n}),se(s.email,s.password)}_(l,e=>{if(e){const o={name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid};console.log("User is signed in!"),Z(o)}else console.log("User is signed out!"),J()});function ne(e,o,s){F(l,e,o).then(()=>R(l.currentUser,{displayName:s})).then(()=>{const n=document.querySelector(".header-overlay-user-name");n.textContent=s,u(),console.log(`Welcome, ${s}!`),d(`Welcome, ${s}!`,{icon:"success",buttons:!1,timer:2500})}).catch(n=>{const t=n.code,r=n.message;console.log(t,r),d(`Error! ${t}`,{icon:"error"})})}function se(e,o){W(l,e,o).then(s=>{const n=s.user;console.log(`Welcome, ${n.displayName}!`),d(`Welcome, ${n.displayName}!`,{icon:"success",buttons:!1,timer:2500}),u()}).catch(s=>{const n=s.code,t=s.message;console.log(n,t),d(`Error! ${n}`,{icon:"error"})})}function M(){z(l).then(()=>{console.log("Sign-out successful.")}).catch(e=>{console.log(`An error happened. ${e}`)}),location.href="./index.html"}function D(){const e=l.currentUser;if(e!==null)return{name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid};console.log("User is signed out.")}function Se(e){if(!e){console.log("No data to write.");return}const o=D();if(!o){console.log("User is not authorized.");return}const s=o.uid,n=v();G(k(n,"users/"+s),{books:e}),console.log("Shopping list was written to DB.")}const a={body:document.querySelector("body"),header:document.querySelector("header"),checkbox:document.querySelector(".header-theme-checkbox"),THEME_KEY:"headerTheme",themeValueLight:"light-theme",themeValueDark:"dark-theme",headerLoginBtn:".js-header-login",headerPageHome:document.querySelector(".header-hidden-auth-item"),headerPageShopping:document.querySelector(".header-hiddeh-auth-basket")};function re(){a.checkbox.checked===!0&&(localStorage.setItem(a.THEME_KEY,a.themeValueDark),a.body.classList.add("dark-theme")),a.checkbox.checked===!1&&(localStorage.getItem(a.THEME_KEY,a.themeValueDark),a.body.classList.add("dark-theme"))}const ie=()=>{const e=window.location.pathname;e==="/index.html"&&(a.headerPageHome.classList.add("header-yellow"),a.headerPageShopping.classList.remove("header-yellow")),e==="/page-2.html"&&(a.headerPageHome.classList.remove("header-yellow"),a.headerPageShopping.classList.add("header-yellow"))};a.checkbox.addEventListener("click",re);ie();const T="https://books-backend.p.goit.global/books/";async function ae(){const e=`${T}top-books`;return(await p.get(e)).data}const le="https://books-backend.p.goit.global/books/";async function we(e){const o=`${le}category?category=${e}`;return(await p.get(o)).data}async function Be(){const e=`${T}category-list`;return await p.get(e)}const ce=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/fund-01.png",img2x:"./img/fund-color-01.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/fund-02.png",img2x:"./img/fund-color-02.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/fund-03.png",img2x:"./img/fund-color-03.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/fund-04.png",img2x:"./img/fund-color-04.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/fund-07.png",img2x:"./img/fund-07.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/fund-06.png",img2x:"./img/fund-06.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/fund-05.png",img2x:"./img/fund-05.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/fund-08.png",img2x:"./img/fund-color-08.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24_2x.png"}],g=document.querySelector(".support-list");function de(e){return e.map(({title:o,url:s,img:n,img2x:t},r)=>`<li class="support-item">
        <span class='support-item-num'>0${r+1}</span>
        <a class="support-link" target='blank' href="${s}">
          <img
            class="support-img"
            src="${n}"
            srcset="${n} 1x, ${t} 2x"
            alt="${o}"
          />
        </a>
      </li>`).join("")}g.innerHTML=de(ce);const m=document.querySelector(".support-slide-btn"),y=document.querySelector(".support-slide-down-btn"),f=document.querySelector(".support-slide-up-btn");m.addEventListener("click",ue);function ue(){m.classList.contains("top")?(m.classList.remove("top"),f.style.display="none",y.style.display="block",me()):(ge(),m.classList.add("top"),y.style.display="none",f.style.display="block")}function me(){g.scrollTop=0}function ge(){g.scrollTop=g.scrollHeight}const A=document.querySelector(".hamburger"),b=document.querySelector(".hamburger-overlay"),pe=document.querySelector("body"),C=document.querySelector(".mob-menu-gallery-list"),L=document.getElementById("scrollTop");document.querySelector(".line-top");document.querySelector(".line-middle");document.querySelector(".line-bottom");A.addEventListener("click",he);function he(){A.classList.toggle("close"),b.classList.toggle("active"),pe.classList.add("menu-open"),document.body.classList.toggle("menu-open",b.classList.contains("active"))}ae().then(e=>{const n=e.reduce((t,r)=>t.concat(r.books),[]).filter((t,r,c)=>c.findIndex($=>$.title===t.title)===r).map(t=>`
<li class="mob-menu-gallery-item">
    <img loading="lazy" class="mob-menu-image" src="${t.book_image}" alt="${t.title}" >
</li>`).join("");C.insertAdjacentHTML("afterbegin",n),ye()}).catch(e=>{console.log(e)});function ye(){N(0,-1)}function N(e,o){e+=.3*o;const s=-1500,n=0;(e<=s||e>=n)&&(o*=-1),C.style.transform=`translateX(${e}px)`,requestAnimationFrame(()=>{N(e,o)})}window.addEventListener("scroll",fe);function fe(){const e=document.documentElement.scrollTop>300;L.classList.toggle("show",e),L.onclick=o=>{o.preventDefault(),document.documentElement.scrollTop=0}}export{we as a,Be as b,D as c,ae as g,ve as h,ke as s,Se as w};
//# sourceMappingURL=burgerMenu-7a624bf4.js.map
