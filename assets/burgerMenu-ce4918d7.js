import{i as $,g as D,o as T,c as C,u as x,s as j,d as N,e as L,f as _,r as v,h as H,j as P,a as f,P as F}from"./vendor-6ba42902.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const O={apiKey:"AIzaSyC8186vhxW_ZDU8EVA4gnzNG0ku3rRXkNY",authDomain:"awesome-project-1330c.firebaseapp.com",projectId:"awesome-project-1330c",storageBucket:"awesome-project-1330c.appspot.com",messagingSenderId:"235904211325",appId:"1:235904211325:web:cd87abc5d9f719d2d41414",measurementId:"G-WDSXDZDNLB",databaseURL:"https://awesome-project-1330c-default-rtdb.europe-west1.firebasedatabase.app"};$(O);const l=D(),r={signUpBox:document.querySelector(".js-sign-up"),signInBox:document.querySelector(".js-sign-in"),signUpForm:document.querySelector(".js-sign-up-form"),signInForm:document.querySelector(".js-sign-in-form"),signUpBtn:document.querySelector(".js-sign-up-link"),signInBtn:document.querySelector(".js-sign-in-link"),exitBtn:document.querySelector(".js-sign-out-btn"),openModalBtn:document.querySelector(".auth-modal-open"),closeModalBtn:document.querySelector(".auth-modal-close"),modal:document.querySelector(".auth-modal-backdrop")};r.signInBtn.addEventListener("click",G);r.signUpBtn.addEventListener("click",R);r.signUpForm.addEventListener("submit",z);r.signInForm.addEventListener("submit",W);r.openModalBtn.addEventListener("click",g);r.closeModalBtn.addEventListener("click",g);r.exitBtn.addEventListener("click",Y);function g(){r.modal.classList.toggle("auth-backdrop-hidden")}function G(e){e.preventDefault(),r.signUpBox.classList.add("auth-hidden"),r.signInBox.classList.remove("auth-hidden"),r.signUpBtn.classList.remove("active"),r.signInBtn.classList.add("active")}function R(e){e.preventDefault(),r.signUpBox.classList.remove("auth-hidden"),r.signInBox.classList.add("auth-hidden"),r.signUpBtn.classList.add("active"),r.signInBtn.classList.remove("active")}function z(e){e.preventDefault();const o=new FormData(e.currentTarget),t={};o.forEach((s,n)=>{t[n]=s}),K(t.email,t.password,t.username)}function W(e){e.preventDefault();const o=new FormData(e.currentTarget),t={};o.forEach((s,n)=>{t[n]=s}),V(t.email,t.password)}T(l,e=>{e?(e.displayName,e.email,e.photoURL,e.uid,console.log("User is signed in, we will show all modules")):console.log("User is signed out, we will hide some modules")});function K(e,o,t){C(l,e,o).then(()=>x(l.currentUser,{displayName:t})).then(()=>{g(),console.log(`Welcome, ${t}!`)}).catch(s=>{const n=s.code,a=s.message;console.log(n,a)})}function V(e,o){j(l,e,o).then(t=>{const s=t.user;console.log(`Welcome, ${s.displayName}!`),g()}).catch(t=>{const s=t.code,n=t.message;console.log(s,n)})}function Y(){N(l).then(()=>{console.log("Sign-out successful.")}).catch(e=>{console.log(`An error happened. ${e}`)})}function w(){const e=l.currentUser;if(e!==null){const o={name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid};return console.log(o),o}else console.log('User is signed out. This function will return "undefined".')}function J(e){if(!e){console.log("No data to write!");return}const o=w();if(!o){console.log("User is not authorized!");return}const t=o.uid,s=L();_(v(s,"users/"+t),{books:e}),console.log("Success!")}function X(){const e=w();if(!e){console.log("User is not authorized!");return}const o=e.uid,t=v(L());H(P(t,`users/${o}`)).then(s=>{if(s.exists())return console.log(s.val()),s.val();console.log("No data available")}).catch(s=>{console.log(s)})}const Z=document.querySelector(".dbw");Z.addEventListener("click",Q);function Q(){J([{list_name:"Advice How-To and Miscellaneous"},{list_name:"Audio Fiction",books:Array(5)},{list_name:"Audio Nonfiction",books:Array(5)},{list_name:"Business Books",books:Array(5)},{list_name:"Childrens Middle Grade Hardcover",books:Array(5)},{list_name:"Combined Print and E-Book Fiction",books:Array(5)}])}const ee=document.querySelector(".dbr");ee.addEventListener("click",X);const i={body:document.querySelector("body"),checkbox:document.querySelector(".header-theme-checkbox"),THEME_KEY:"headerTheme",themeValueLight:"light-theme",themeValueDark:"dark-theme"};function te(){i.checkbox.checked===!0&&(localStorage.setItem(i.THEME_KEY,i.themeValueDark),i.body.classList.add("dark-theme")),i.checkbox.checked===!1&&(localStorage.getItem(i.THEME_KEY,i.themeValueLight),i.body.classList.remove("dark-theme"))}i.checkbox.addEventListener("click",te);const S="https://books-backend.p.goit.global/books/";async function oe(){const e=`${S}top-books`;return(await f.get(e)).data}const se="https://books-backend.p.goit.global/books/";async function fe(e){const o=`${se}category?category=${e}`;return(await f.get(o)).data}async function ye(){const e=`${S}category-list`;return await f.get(e)}const ne=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"../img/fund-01.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"../img/fund-02.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"../img/fund-09.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"../img/fund-03.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"../img/fund-07.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"../img/fund-04.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"../img/fund-05.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"../img/fund-08.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"../img/fund-06.png"}],m=document.querySelector(".support-list");function re(e){return e.map(({title:o,url:t,img:s},n)=>`<li class="support-item">
        <span class='support-item-num'>0${n+1}</span>
        <a class="support-link" target='blank' href="${t}">
          <img
            class="support-img"
            src="${s}"
            alt="${o}"
          />
        </a>
      </li>`).join("")}m.innerHTML=re(ne);const d=document.querySelector(".support-slide-btn"),y=document.querySelector(".support-slide-down-btn"),b=document.querySelector(".support-slide-up-btn");d.addEventListener("click",ae);function ae(){d.classList.contains("top")?(d.classList.remove("top"),b.style.display="none",y.style.display="block",ie()):(ce(),d.classList.add("top"),y.style.display="none",b.style.display="block")}function ie(){m.scrollTop=0}function ce(){m.scrollTop=m.scrollHeight}const p="booklist",E=document.querySelector(".cart-list"),h=document.querySelector(".empty-cart"),le=document.querySelector("#pagination"),ue={totalItems:500,itemsPerPage:3,visiblePages:3,page:1,centerAlign:!1};new F(le,ue);let c=[];document.addEventListener("click",de);try{c=JSON.parse(localStorage.getItem(p)),c.length||(h.style.display="block"),h.style.display="none",E.innerHTML=B(c),c.length>itemPerPage}catch(e){console.error("Get state error: ",e.message)}function B(e){return e.map(({_id:o,author:t,book_image:s,title:n,description:a,buy_links:[{url:u},{url:q}],list_name:M})=>` <li class="cart-item" data-id ="${o}">
            <img src="${s}" alt="${n}" class="cart-item-img">
            <div class="cart-item-content">
            <div class="cart-content-header">
                <h3 class="cart-item-title">${n}</h3>
                <p class="cart-item-category cart-item-label">${M}</p>
            </div>
                <p class="cart-item-description">${a}</p>
                <p class="cart-item-author cart-item-label">${t}</p>
                <button class="cart-item-delete">
                <svg class="cart-delete-icon" width="24" height="24">
                <use href="../img/icons-sprite.svg#cart-purple-round"></use>
                </svg>
                </button>
                <ul class="cart-item-links">
                <li><a href="${u}" class="cart-item-link">amazon</a></li>
                <li><a href="${q}" class="cart-item-link">apple book</a></li>
                </ul>
            </div>
        </li>`).join("")}function de(e){if(!e.target.classList.contains("cart-item-delete"))return;const o=e.target.closest(".cart-item").dataset.id;try{const t=c.filter(({_id:s})=>s!==o);localStorage.setItem(p,JSON.stringify(t)),c=JSON.parse(localStorage.getItem(p)),E.innerHTML=B(t)}catch(t){console.error("Get state error: ",t.message)}c.length||(h.style.display="block")}const U=document.querySelector(".hamburger"),k=document.querySelector(".hamburger-overlay"),me=document.querySelector("body"),I=document.querySelector(".mob-menu-gallery-list");U.addEventListener("click",ge);function ge(){U.classList.toggle("close"),k.classList.toggle("active"),me.classList.add("menu-open"),document.body.classList.toggle("menu-open",k.classList.contains("active"))}oe().then(e=>{const t=e.reduce((s,n)=>s.concat(n.books),[]).map(s=>`
      <li class="mob-menu-gallery-item">
        <img class="mob-menu-image" src="${s.book_image}" alt="${s.title}" >
      </li>`).join("");I.insertAdjacentHTML("afterbegin",t),pe()}).catch(e=>{console.log(e)});function A(e,o){e+=.2*o;const t=-1e3,s=0;(e<=t||e>=s)&&(o*=-1),I.style.transform=`translateX(${e}px)`,requestAnimationFrame(()=>{A(e,o)})}function pe(){A(0,-1)}export{fe as a,ye as b,oe as g};
//# sourceMappingURL=burgerMenu-ce4918d7.js.map
