{"version":3,"file":"commonHelpers.js","sources":["../src/js/bookgallery.js","../src/js/filter-categories.js","../src/js/modal-book.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { getTopBooks, getTopCategory } from './request-base';\nimport { refs } from './filter-categories';\nimport { showLoader, hideLoader } from './loader.js';\n\nexport const listGeneral = document.querySelector('.list_general');\nconst titleBestSellers = document.querySelector('.title_best_sellers');\n\nlet n = 0;\n\nlet currentWidth = window.innerWidth;\n\nwindow.addEventListener('resize', handleWindowResize);\n\nfunction handleWindowResize(event) {\n  const width = event.target.outerWidth;\n  //console.log(width)\n  if (\n    (width > 767 && currentWidth < 768) ||\n    (width > 1439 && currentWidth < 1440) ||\n    (width < 1440 && currentWidth > 1439) ||\n    (width < 768 && currentWidth > 767)\n  ) {\n    location.reload();\n  }\n}\n\nconst currentWindowWidth = () => {\n  if (currentWidth < 768) {\n    n = 1;\n  } else if (currentWidth >= 768 && currentWidth < 1440) {\n    n = 3;\n  } else {\n    n = 5;\n  }\n};\n\ngetTopBooks()\n  .then(allCategory => {\n    console.log(allCategory);\n    bestSellers(allCategory);\n    hideLoader();\n  })\n  .catch(error => {\n    Notiflix.Notify.failure(\n      'An error occurred while fetching images. Please try again.'\n    );\n  });\n\nfunction isClick() {\n  showLoader();\n  let attributeValue = this.getAttribute('data-my-attribute');\n  console.log(attributeValue);\n\n  setActiveListItem(attributeValue);\n\n  getTopCategory(attributeValue)\n    .then(catalogs => {\n      titleBestSellers.style.display = 'none';\n      listGeneral.innerHTML = '';\n      markupCategory(catalogs);\n    })\n    .catch(error => {\n      Notiflix.Notify.failure(\n        'An error occurred while fetching images. Please try again.'\n      );\n    });\n}\n\nfunction setActiveListItem(str) {\n  const title = document.querySelector('.categories__title');\n  const ulElement = document.querySelector('.categories__list');\n  const liElements = ulElement.getElementsByTagName('li');\n  const liArray = Array.from(liElements);\n  const targetLi = liArray.find(li => li.textContent.trim() === str);\n  if (targetLi) {\n    targetLi.classList.add('selected-category');\n    title.style.color = 'var(--text-color)';\n  }\n}\n\nfunction getBooksMarkup(category) {\n  return category.books\n    .slice(0, n)\n    .map(book => {\n      let shortTitle = shortTitleBooks(book);\n      let shortAutor = shortAutorBooks(book);\n      return `\n\n      <li class=\"list_five_books modal-list\" data-id=\"${book._id}\">\n      <a href=\"#\" class='category-books__link'>\n        <img class='category-books__img' src=\"${book.book_image}\" alt=\"book\" />\n        <div class='category-books__wrapper'>\n        <p class='category-books__text'>quick view</p>\n        </div></a>\n\n        <h3 class=\"title_general\">${shortTitle}</h3>\n        <p class=\"author_general\">${shortAutor}</p>\n      </li>\n    `;\n    })\n    .join('');\n}\n\nfunction getMarkupAll(allCategory) {\n  return allCategory\n    .map(category => {\n      const booksMarkup = getBooksMarkup(category);\n      return `\n      <div class=\"div_five_books\"><li class=\"list_five_books\">\n        <h2 class=\"text_general\">${category.list_name}</h2>\n        <ul class=\"list_five_general\">${booksMarkup}</ul>\n        <button class=\"btn\" data-my-attribute=\"${category.list_name}\">SEE MORE</button>\n      </li></div>\n    `;\n    })\n    .join('');\n}\n\nfunction bestSellers(allCategory) {\n  window.scrollTo(0, 0);\n  const markupAll = getMarkupAll(allCategory);\n  listGeneral.insertAdjacentHTML('beforeend', markupAll);\n\n  let buttons = document.querySelectorAll('.btn');\n\n  buttons.forEach(button => {\n    button.addEventListener('click', isClick);\n  });\n}\n\nfunction getListName(catalogs) {\n  return catalogs.slice(0, 1).map(image =>\n    image.list_name\n      .split(' ')\n      .map(word => `<span>${word}</span>`)\n      .join(' ')\n  );\n}\n\nfunction shortTitleBooks(book) {\n  return book.title.length > 16\n    ? book.title.substring(0, 16) + '...'\n    : book.title;\n}\n\nfunction shortAutorBooks(book) {\n  return book.author.length > 25\n    ? book.author.substring(0, 20) + '...'\n    : book.author;\n}\n\nfunction getmarkupLi(catalogs) {\n  return catalogs\n    .map(book => {\n      let shortTitle = shortTitleBooks(book);\n      let shortAutor = shortAutorBooks(book);\n\n      return `<li class=\"list_five_books modal-list\" data-id=\"${book._id}\">\n  <a href=\"#\" class='category-books__link'>\n        <img class='category-books__img' src=\"${book.book_image}\" alt=\"book\" />\n        <div class='category-books__wrapper'>\n        <p class='category-books__text'>quick view</p>\n        </div></a>\n\n        <h3 class=\"title_general\">${shortTitle}</h3>\n        <p class=\"text_general\">${shortAutor}</p>\n        <h1 hidden>${book.list_name}</h1>\n      </li>`;\n    })\n    .join('');\n}\n\nfunction getMarkup(listNames, markupLi) {\n  return `<div class='div_category'><h1 class=\"title-category\">${listNames}</h1></><ul class=\"list_five_general\">${markupLi}</ul>\n  <button class=\"btn_back\">BACK</button></div>`;\n}\n\nexport function markupCategory(catalogs) {\n  window.scrollTo(0, 0);\n\n  const markupLi = getmarkupLi(catalogs);\n\n  const listNames = getListName(catalogs);\n\n  const markup = getMarkup(listNames, markupLi);\n\n  listGeneral.insertAdjacentHTML('beforeend', markup);\n  hideLoader();\n  let btnBack = document.querySelector('.btn_back');\n  btnBack.addEventListener('click', isClose);\n}\n\nfunction isClose() {\n  location.reload();\n}\ncurrentWindowWidth();\n","import { getCategoryList, getTopCategory } from './request-base';\nimport { markupCategory, listGeneral } from './bookgallery.js';\nimport 'simplebar';\nimport 'simplebar/dist/simplebar.css';\nimport { showLoader, hideLoader } from './loader.js';\n\nexport const refs = {\n  galleryTitle: document.querySelector('.list_general-title'),\n  filterListEl: document.querySelector('.categories__list'),\n  categoriesTitle: document.querySelector('.categories__title'),\n  title: document.querySelector('.title_best_sellers'),\n};\n\n//! Render Category filter on load Home page\nfunction createCategoriesList(q) {\n  getCategoryList(q).then(response => {\n    const list = response.data;\n    list.sort((firstItem, secondItem) =>\n      firstItem.list_name.localeCompare(secondItem.list_name)\n    );\n\n    createFilterCategoriesMarkup(list);\n  });\n}\n\nfunction createFilterCategoriesMarkup(arr) {\n  const markup = arr.map(item => {\n    return `<li class=\"categories__list-item\">${item.list_name}</li>`;\n  });\n  refs.filterListEl.insertAdjacentHTML('beforeend', markup.join(''));\n}\ncreateCategoriesList('category-list');\n\n//! Return  name of selected category  on filter click\nrefs.filterListEl.addEventListener('click', onCategoryClick);\n\nexport function onCategoryClick(e) {\n  checkClass(e);\n  showLoader();\n  const selectedCategory = e.target.textContent;\n  getTopCategory(selectedCategory)\n    .then(catalogs => {\n      listGeneral.innerHTML = '';\n      markupCategory(catalogs);\n      hideLoader();\n      refs.title.style.display = 'none';\n    })\n    .catch(error => {\n      Notiflix.Notify.failure(\n        'An error occurred while fetching images. Please try again.'\n      );\n    });\n}\n\n//! helper\nfunction checkClass(e) {\n  if (e.target.tagName === 'LI') {\n    const selectedElement =\n      refs.filterListEl.querySelector('.selected-category');\n    if (selectedElement) {\n      selectedElement.classList.remove('selected-category');\n    }\n\n    e.target.classList.add('selected-category');\n  }\n  refs.categoriesTitle.style.color = 'var(--text-color)';\n}\n","\nimport * as basicLightbox from 'basiclightbox';\nimport \"basiclightbox/dist/basicLightbox.min.css\";\nimport { getUserData, writeUserShoppingList } from './auth';\nimport amazonimg from '../amazon.png';\nimport applebookimg from '../apple-books.png';\nimport svg from '../img/icons-sprite.svg';\nimport './bookgallery';\nimport { getBooksId } from './request-base';\n\n\n \nconst bodyEl = document.querySelector('body'); \nconst LOCAL_KEY = 'booklist';\n\n\nconst bookList = document.querySelector('.bookgallery')\n\nexport function renderPopUp(obj) {\n  const {\n    _id,\n    book_image,\n    author,\n    title,\n    description = 'No description...',\n    buy_links: {\n      0: { name, url },\n      1: { name: name2, url: url2 },\n    },\n  } = obj;\n\n  \n  const instance = basicLightbox.create(\n    `\n <div class=\"modal-book-js\" data-id=\"${_id}\">\n      <button type=\"button\" class=\"modal-book-btn-close\">\n      <svg class=\"icons-modal\"  width=\"12\" height=\"12\">\n        <use href=\"${svg}#x-close-btn\"></use>\n      </svg>\n      </button>\n        <img src=\"${book_image}\" alt=\"${title}\" class=\"modal-img-book widht=\"192\" height=\"281\"/>\n        <div class=\"modal-list-infobook\">\n        <h3 class=\"modal-book-title\">${title}</h3>\n        <p class=\"modal-book-autor\">${author}</p>\n        <p class=\"modal-book-description\">${description}</p>\n        <div class=\"modal-list-shops\">\n        <ul class=\"modal-book-list-shops\">\n          <li class=\"modal-book-shops-item\">\n           <a href=\"${url}\" target=\"_blank\" class=\"\">\n           <img src=\"${amazonimg}\" alt=\"\" widht=\"62\" height=\"19\" class=\"modal-img-shop\"/>\n           </a>\n          </li>\n          <li class=\"modal-book-shops-item\">\n           <a href=\"${url2}\" target=\"_blank\" class=\"\">\n           <img src=\"${applebookimg}\" alt=\"\" widht=\"33\" height=\"32\" class=\"modal-img-shop-apple\"/>\n           </a>\n           </li>\n\n          </div>\n        </ul>\n        </div>\n        <button type=\"button\" class=\"modal-book-btn hidden btn-add\" id=\"add\">\n        add to shopping list</button>\n        <button type=\"button\" class=\"modal-book-btn hidden\" id=\"remove\">\n        remove from the shopping list</button>\n        <p class=\"txt-remove hidden\">Сongratulations! You have added the book\n        to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n  </div>`,\n    {\n      onShow: () => {\n        document.addEventListener('keydown', escPress);\n        bodyEl.style.overflow = 'hidden';\n      },\n      onClose: () => {\n        document.removeEventListener('keydown', escPress);\n        bodyEl.style.overflow = 'auto';\n      },\n    }\n  );\n  function escPress(evt) {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = evt.code === ESC_KEY_CODE;\n    if (!isEscKey) return;\n    instance.close();\n  }\n  instance.show();\n\n  const modalBtnClose = document.querySelector('.modal-book-btn-close');\n  modalBtnClose.addEventListener('click', () => {\n    instance.close();\n  });\n}\n\nbookList.addEventListener('click', onClickOpenModalWindow)\n\nfunction onClickOpenModalWindow(evt) {\n  evt.preventDefault();\n  if (!evt.target.classList.contains('category-books__img')) {\n    return;\n  } \n  const bookEl = evt.target.closest('.modal-list'); \n  const id = bookEl.dataset.id;\n\n  getBooksId(id).then(data => {\n    const resp = data;\n    renderPopUp(resp);\n    \n\n    if(!getUserData()) {\n    btnAddEl.classList.add('hidden');\n   btnRemoveEl.classList.add('hidden');\n     textRemoveEl.classList.add('hidden');\n    // console.log(\"render book\");\n    } else {\n      const btnAddEl = document.querySelector('#add');\n    const btnRemoveEl = document.querySelector('#remove');\n    const textRemoveEl = document.querySelector('.txt-remove');\n    \n\n    if (checkBookInLocalStorage(id)) {\n      btnRemoveEl.classList.remove('hidden');\n      textRemoveEl.classList.remove('hidden');\n    } else {\n      btnAddEl.classList.remove('hidden');\n    }\n\n    btnRemoveEl.addEventListener('click', () => {    \n            \n      removeFromCart(id)\n      writeUserShoppingList(JSON.parse(localStorage.getItem(LOCAL_KEY)))\n           \n            btnAddEl.classList.remove('hidden');//показувати\n            btnRemoveEl.classList.add('hidden');//не показувати\n            textRemoveEl.classList.add('hidden');//не показувати\n    })\n      \n      // const locallistarr = localStorage.getItem(LOCAL_KEY)\n                \n      btnAddEl.addEventListener('click', () => {\n        \n            setToLocalStorage(resp)\n            writeUserShoppingList(JSON.parse(localStorage.getItem(LOCAL_KEY)))\n      //  arr.push(JSON.parse(locallistarr))\n        \n      // console.log(arr);\n        \n            btnAddEl.classList.add('hidden');//не показувати\n            btnRemoveEl.classList.remove('hidden');//показувати\n            textRemoveEl.classList.remove('hidden')//показувати\n          })\n  }\n   \n\n  })\n\n}\nfunction removeFromCart(id) {\n  const curentData = getFromLocalStorage();\n  const updateData = curentData.filter(item => item._id !== id);\n\n  addToLocalStorage(updateData);\n  getFromLocalStorage();\n\n  console.log('Товар удален из корзины');\n}\nfunction setToLocalStorage(obj) {\n  const localArr = getFromLocalStorage();\n  localArr.push(obj);\n  addToLocalStorage(localArr);\n}\nfunction addToLocalStorage(arr) {\n \n  localStorage.setItem(LOCAL_KEY, JSON.stringify(arr));\n}\n\nfunction getFromLocalStorage() {\n  try {\n    const data = localStorage.getItem(LOCAL_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction checkBookInLocalStorage(id) {\n  const curentList = getFromLocalStorage();\n  return !curentList.every(obj => obj._id !== id);\n}\n\n"],"names":["listGeneral","titleBestSellers","n","currentWidth","handleWindowResize","event","width","currentWindowWidth","getTopBooks","allCategory","bestSellers","hideLoader","error","Notiflix","isClick","showLoader","attributeValue","setActiveListItem","getTopCategory","catalogs","markupCategory","str","title","liElements","targetLi","li","getBooksMarkup","category","book","shortTitle","shortTitleBooks","shortAutor","shortAutorBooks","getMarkupAll","booksMarkup","markupAll","button","getListName","image","word","getmarkupLi","getMarkup","listNames","markupLi","markup","isClose","refs","createCategoriesList","q","getCategoryList","response","list","firstItem","secondItem","createFilterCategoriesMarkup","arr","item","onCategoryClick","checkClass","selectedCategory","selectedElement","bodyEl","LOCAL_KEY","bookList","renderPopUp","obj","_id","book_image","author","description","name","url","name2","url2","instance","basicLightbox.create","svg","amazonimg","applebookimg","escPress","evt","ESC_KEY_CODE","onClickOpenModalWindow","id","getBooksId","data","resp","getUserData","btnAddEl","btnRemoveEl","textRemoveEl","checkBookInLocalStorage","removeFromCart","writeUserShoppingList","setToLocalStorage","updateData","getFromLocalStorage","addToLocalStorage","localArr"],"mappings":"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"}