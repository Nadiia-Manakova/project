import{i as k,g as w,c as v,u as y,s as L,a as S,b as m,d as B,r as f,e as _,f as U,h,N as b}from"./assets/vendor-71d8f062.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const $={apiKey:"AIzaSyC8186vhxW_ZDU8EVA4gnzNG0ku3rRXkNY",authDomain:"awesome-project-1330c.firebaseapp.com",projectId:"awesome-project-1330c",storageBucket:"awesome-project-1330c.appspot.com",messagingSenderId:"235904211325",appId:"1:235904211325:web:cd87abc5d9f719d2d41414",measurementId:"G-WDSXDZDNLB",databaseURL:"https://awesome-project-1330c-default-rtdb.europe-west1.firebasedatabase.app"};k($);const a=w(),r={signUpBox:document.querySelector(".js-sign-up"),signInBox:document.querySelector(".js-sign-in"),signUpForm:document.querySelector(".js-sign-up-form"),signInForm:document.querySelector(".js-sign-in-form"),signUpBtn:document.querySelector(".js-sign-up-link"),signInBtn:document.querySelector(".js-sign-in-link"),exitBtn:document.querySelector(".js-sign-out-btn"),openModalBtn:document.querySelector(".auth-modal-open"),closeModalBtn:document.querySelector(".auth-modal-close"),modal:document.querySelector(".auth-modal-backdrop")};r.signInBtn.addEventListener("click",A);r.signUpBtn.addEventListener("click",E);r.signUpForm.addEventListener("submit",I);r.signInForm.addEventListener("submit",D);r.openModalBtn.addEventListener("click",c);r.closeModalBtn.addEventListener("click",c);r.exitBtn.addEventListener("click",N);function c(){r.modal.classList.toggle("auth-backdrop-hidden")}function A(e){e.preventDefault(),r.signUpBox.classList.add("auth-hidden"),r.signInBox.classList.remove("auth-hidden"),r.signUpBtn.classList.remove("active"),r.signInBtn.classList.add("active")}function E(e){e.preventDefault(),r.signUpBox.classList.remove("auth-hidden"),r.signInBox.classList.add("auth-hidden"),r.signUpBtn.classList.add("active"),r.signInBtn.classList.remove("active")}function I(e){e.preventDefault();const s=new FormData(e.currentTarget),o={};s.forEach((t,n)=>{o[n]=t}),j(o.email,o.password,o.username)}function D(e){e.preventDefault();const s=new FormData(e.currentTarget),o={};s.forEach((t,n)=>{o[n]=t}),M(o.email,o.password)}function j(e,s,o){v(a,e,s).then(()=>y(a.currentUser,{displayName:o})).then(()=>{console.log(`Welcome, ${o}!`),alert(`Welcome, ${o}!`),console.log(u()),c()}).catch(t=>{const n=t.code,i=t.message;console.log(n,i),alert(n,i)})}function M(e,s){L(a,e,s).then(o=>{const t=o.user;console.log(`Welcome, ${t.displayName}!`),alert(`Welcome, ${t.displayName}!`),console.log(u()),c()}).catch(o=>{const t=o.code,n=o.message;console.log(t,n),alert(t,n)})}function N(){S(a).then(()=>{console.log("Sign-out successful."),console.log("Sign-out successful."),alert("Sign-out successful.")}).catch(e=>{console.log(`An error happened. ${e}`),console.log(`An error happened. ${e}`),alert(`An error happened. ${e}`)})}function u(){const e=a.currentUser;if(e!==null)return{name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid}}function q(e){if(!e){console.log("No data to write!");return}const s=u();if(!s){console.log("User is not authorized!"),alert("User is not authorized!");return}const o=s.uid,t=m();B(f(t,"users/"+o),{books:e}),console.log("Success!"),alert("Success!")}function x(){const e=u();if(!e){console.log("User is not authorized!"),alert("User is not authorized!");return}const s=e.uid,o=f(m());_(U(o,`users/${s}`)).then(t=>{if(t.exists())return console.log(t.val()),alert("Success!"),t.val();console.log("No data available"),alert("No data available")}).catch(t=>{console.log(t),alert(t)})}const C=document.querySelector(".dbw");C.addEventListener("click",T);function T(){q([])}const F=document.querySelector(".dbr");F.addEventListener("click",x);const O="https://books-backend.p.goit.global/books/";async function P(){const e=`${O}top-books`;return(await h.get(e)).data}const W="https://books-backend.p.goit.global/books/";async function H(e){const s=`${W}category?category=${e}`;return(await h.get(s)).data}const p=document.querySelector(".list_general");let l=0,g=window.innerWidth;g>=1440?l=5:g>=720?l=3:g>=240&&(l=1);P().then(e=>{console.log(e),R(e)}).catch(e=>{b.Notify.failure("An error occurred while fetching images. Please try again.")});function z(){let e=this.getAttribute("data-my-attribute");H(e).then(s=>{p.innerHTML="",G(s)}).catch(s=>{b.Notify.failure("An error occurred while fetching images. Please try again.")})}function R(e){window.scrollTo(0,0);const s=e.map(t=>{const n=t.books.slice(0,l).map(i=>`
      <li class="list_five_books" data-id="${i._id}">
        <img src="${i.book_image}" alt="" width = "180" height="256" />
        <h2 class="title_general">${i.title}</h2>
        <p class="author_general">${i.author}</p>
      </li>
    `).join("");return`
      <div class="div_five_books"><li class="list_five_books"
        <p class="text_general">${t.list_name}</p>
        <ul class="list_five_general">${n}</ul>
        <button class="btn" data-my-attribute="${t.list_name}">LOAD MORE</button>
      </li></div>
    `}).join("");p.insertAdjacentHTML("beforeend",s),document.querySelectorAll(".btn").forEach(t=>{t.addEventListener("click",z)})}function G(e){window.scrollTo(0,0);const o=`<div class='div_category'><ul class="list_five_general">${e.map(n=>`<li class="list_five_books">
        <img src="${n.book_image}" alt="" width = "180" height="256" />
        <h2 class="title_general">${n.title}</h2>
        <p class="text_general">${n.author}</p>
      </li>`).join("")}</ul>
  <button class="btn_back">BACK</button></div>`;p.insertAdjacentHTML("beforeend",o),document.querySelector(".btn_back").addEventListener("click",K)}function K(){location.reload()}const Z=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"../img/fund-01.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"../img/fund-02.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"../img/fund-09.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"../img/fund-03.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"../img/fund-07.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"../img/fund-04.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"../img/fund-05.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"../img/fund-08.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"../img/fund-06.png"}],V=document.querySelector(".support-list");function X(e){return e.map(({title:s,url:o,img:t},n)=>`<li class="support-item">
        <span class='support-item-num'>0${n+1}</span>
        <a class="support-link" target='blank' href="${o}">
          <img
            class="support-img"
            src="${t}"
            alt="${s}"
          />
        </a>
      </li>`).join("")}V.innerHTML=X(Z);
//# sourceMappingURL=commonHelpers.js.map
